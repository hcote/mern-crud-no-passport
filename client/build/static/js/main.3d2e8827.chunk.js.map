{"version":3,"sources":["images/styled_check.png","images/loading.gif","images/magic-horizontal-color-white.png","images/unstyled_check.png","components/Layout.js","components/Store.js","components/todos/Todo.js","components/todos/TodoList.js","components/Login.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Layout","useContext","LoggedInContext","loggedIn","setLoggedIn","MagicContext","magic","handleLogout","a","fetch","process","method","credentials","user","logout","className","src","logo","alt","onClick","e","preventDefault","to","React","createContext","LoadingContext","m","Magic","preload","Store","children","useState","setMagic","isLoading","setIsLoading","useEffect","res","json","data","authorized","email","Provider","value","Todo","todo","allTodos","setAllTodos","setIsLoggedIn","toggleCompletedDb","id","completed","headers","body","JSON","stringify","todos","deleteFromDb","unstyledCheck","styledCheck","todoDiv","target","parentElement","classList","contains","_id","type","newTodos","filter","removeTodoFromView","TodoList","formTodo","setFormTodo","errorMsg","setErrorMsg","addTodoToDb","loadingGif","height","onChange","placeholder","length","map","key","Login","props","setEmail","disableLogin","setDisableLogin","authenticateWithDb","DIDT","Headers","Authorization","handleLogin","auth","loginWithMagicLink","history","push","console","log","disabled","App","path","exact","component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3d2e8827.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/styled_check.1b37a316.png\";","module.exports = __webpack_public_path__ + \"static/media/loading.6a547a1c.gif\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/unstyled_check.ea75ebce.png\";","import React, { useContext } from \"react\";\nimport { LoggedInContext, MagicContext } from \"./Store\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../images/magic-horizontal-color-white.png\";\nimport \"../styles/layout.css\";\n\nconst Layout = () => {\n  const [loggedIn, setLoggedIn] = useContext(LoggedInContext);\n  const [magic] = useContext(MagicContext);\n\n  /**\n   * Log user out of of the session with our app (clears the `auth` cookie)\n   * Log the user out of their session with Magic\n   */\n  const handleLogout = async () => {\n    await fetch(`${process.env.REACT_APP_SERVER_URL}/api/user/logout`, {\n      method: \"GET\",\n      credentials: \"include\"\n    });\n    setLoggedIn(false);\n    await magic.user.logout();\n  };\n\n  return (\n    <>\n      <nav className=\"nav\">\n        <div>\n          <img src={logo} className=\"nav-logo\" alt=\"Logo\" />\n        </div>\n        {/* If a user is logged in, show our Welcome message and Logout button */}\n        {loggedIn ? (\n          <>\n            <div className=\"nav-user\">Welcome, {loggedIn}</div>\n            <div className=\"logout-btn\">\n              <a\n                onClick={e => {\n                  e.preventDefault();\n                  handleLogout();\n                }}\n              >\n                Logout\n              </a>\n            </div>\n          </>\n        ) : (\n          // Else, show the Login button\n          <>\n              <div className=\"login-btn\">\n                <Link to=\"login\">Log in</Link>\n              </div>\n          </>\n        )}\n      </nav>\n    </>\n  );\n};\n\nexport default Layout;\n","import React, { createContext, useState, useEffect } from \"react\";\nimport { Magic } from \"magic-sdk\";\nimport Layout from \"./Layout\";\n\n/* initializing context API values */\nexport const MagicContext = React.createContext();\nexport const LoggedInContext = React.createContext();\nexport const LoadingContext = React.createContext();\n\n/* preload iframe */\nlet m = new Magic(process.env.REACT_APP_MAGIC_PUBLISHABLE_KEY);\nm.preload();\n\n/* this function wraps our entire app within our context APIs so all components have access to their values */\nconst Store = ({ children }) => {\n  const [magic, setMagic] = useState();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    (async () => {\n      setIsLoading(true);\n\n      await setMagic(m);\n\n      /* On page refresh, send a request to /api/user to see if there's a valid user session */\n      let res = await fetch(`${process.env.REACT_APP_SERVER_URL}/api/user`, {\n        method: \"GET\",\n      credentials: \"include\"\n      });\n      let data = await res.json();\n\n      /* If the user has a valid session with our server, it will return {authorized: true, user: user} */\n      let loggedIn = data.authorized ? data.user : false;\n\n      /* If db returns {authorized: false}, there is no valid session, so log user out of their session with Magic if it exists */\n      !loggedIn && magic && magic.user.logout();\n\n      await setLoggedIn(loggedIn.email);\n      setIsLoading(false);\n    })();\n  }, []);\n\n  return (\n    // `children` (passed as props in this file) represents the component nested inside <Store /> in `/pages/index.js` and `/pages/login.js`\n    <LoggedInContext.Provider value={[loggedIn, setLoggedIn]}>\n      <MagicContext.Provider value={[magic]}>\n        <LoadingContext.Provider value={[isLoading, setIsLoading]}>\n          <Layout />\n          {children}\n        </LoadingContext.Provider>\n      </MagicContext.Provider>\n    </LoggedInContext.Provider>\n  );\n};\n\nexport default Store;\n","import React, { useContext } from \"react\";\nimport { MagicContext, LoggedInContext } from \"../Store\";\nimport styledCheck from \"../../images/styled_check.png\";\nimport unstyledCheck from \"../../images/unstyled_check.png\";\nimport \"../../styles/todolist.css\";\n\nconst Todo = ({ todo, allTodos, setAllTodos }) => {\n  const [magic] = useContext(MagicContext);\n  const [isLoggedIn, setIsLoggedIn] = useContext(LoggedInContext);\n\n  const toggleCompletedDb = async (id, completed) => {\n    let res = await fetch(`${process.env.REACT_APP_SERVER_URL}/api/todos/update/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({ id, completed })\n    });\n\n    let data = await res.json();\n\n    /**\n     * If user is not authorized (the cookie has expired), logout user\n     * Else, update the Todo List using the response from the db\n     */\n    !data.authorized ? logout() : setAllTodos(data.user.todos);\n  };\n\n  const deleteFromDb = async id => {\n    let res = await fetch(`${process.env.REACT_APP_SERVER_URL}/api/todos/delete/${id}`, {\n      method: \"DELETE\",\n      credentials: \"include\"\n    });\n\n    let data = await res.json();\n\n    /* If the database responds with {authorized: false}, logout user */\n    !data.authorized && logout();\n  };\n\n  /* Remove the deleted Todo from our displayed Todo List */\n  const removeTodoFromView = id => {\n    let newTodos = allTodos.filter(todo => id !== todo._id);\n    setAllTodos(newTodos);\n  };\n\n  /* Set `loggedIn` to false and log the user out of their session with Magic */\n  const logout = async () => {\n    setIsLoggedIn(false);\n    await magic.user.logout();\n  };\n\n  return (\n    /* If the Todo has the `completed` attribute, add `completed` to the className */\n    <div className={`todo-item-container ${todo.completed ? `completed` : \"\"}`}>\n      {todo && (\n        <div className={`todo-item-name`}>\n          <img\n            /* Change the img source depending on if the Todo is completed or not */\n            src={todo.completed ? unstyledCheck : styledCheck}\n            className=\"toggle-complete-btn\"\n            onClick={async e => {\n              /* Update the `completed` attribute in our database */\n              let todoDiv = e.target.parentElement.parentElement;\n              let completed = todoDiv.classList.contains(\"completed\") ? false : true;\n              await toggleCompletedDb(todo._id, completed);\n            }}\n          />\n          {todo.todo}\n        </div>\n      )}\n      <form>\n        <input\n          type=\"button\"\n          value=\"&#10005;\"\n          className=\"delete-todo-btn\"\n          onClick={() => {\n            deleteFromDb(todo._id);\n            removeTodoFromView(todo._id);\n          }}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default Todo;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { MagicContext, LoggedInContext, LoadingContext } from \"../Store\";\nimport Todo from \"./Todo\";\nimport loadingGif from \"../../images/loading.gif\";\nimport styledCheck from \"../../images/styled_check.png\";\nimport \"../../styles/todolist.css\";\n\nconst TodoList = () => {\n  const [formTodo, setFormTodo] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [allTodos, setAllTodos] = useState([]);\n  const [magic] = useContext(MagicContext);\n  const [loggedIn, setLoggedIn] = useContext(LoggedInContext);\n  const [isLoading, setIsLoading] = useContext(LoadingContext);\n\n  /**\n   * Creates a new Todo in the database\n   */\n  const addTodoToDb = async () => {\n    let res = await fetch(`${process.env.REACT_APP_SERVER_URL}/api/todos`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({ formTodo })\n    });\n\n    let data = await res.json();\n\n    /* If the db returns {authorized: false}, the cookie has expired, so logout the user */\n    /* Else, update our Todo List using the db response */\n    !data.authorized ? logout() : setAllTodos(data.todos);\n  };\n\n  /**\n   * Logs user out of their session with Magic and sets `isLoggedIn` to false\n   */\n  const logout = async () => {\n    setLoggedIn(false);\n    await magic.user.logout();\n  };\n\n  useEffect(() => {\n    /* when loggedIn changes value (i.e. when a user logs in) fetch todos from db */\n    if (loggedIn) {\n      (async () => {\n        setIsLoading(true);\n\n        let res = await fetch(`${process.env.REACT_APP_SERVER_URL}/api/todos`, {\n          method: \"GET\",\n          credentials: \"include\"\n        })\n        let data = await res.json();\n\n        /* set Todos with the db response */\n        await setAllTodos(data.user.todos);\n\n        setIsLoading(false);\n      })();\n    }\n  }, [loggedIn]);\n\n  return (\n    <>\n      {isLoading ? ( // if fetching data, show a loading symbol\n        <img\n          className=\"loading-gif\"\n          src={loadingGif}\n          alt=\"loading...\"\n          height=\"35px\"\n          alt=\"Loading...\"\n        />\n      ) : // If the user is logged in, show their Todo List\n      loggedIn ? (\n        <div className=\"body-container\">\n          <div className=\"add-todo-form-container\">\n            <form className=\"add-todo-form\">\n              <input\n                className=\"add-todo-input\"\n                type=\"text\"\n                value={formTodo}\n                onChange={e => {\n                  setErrorMsg(\"\"); // clear error msg\n                  setFormTodo(e.target.value);\n                }}\n                placeholder=\" Enter Todo...\"\n              />\n              <input\n                className=\"add-todo-submit-btn\"\n                type=\"submit\"\n                value=\"Add\"\n                onClick={e => {\n                  e.preventDefault();\n                  if (!formTodo) return setErrorMsg(\"Field must not be empty.\"); // if form is empty, show the error msg\n                  setFormTodo(\"\"); // clear form input\n                  setErrorMsg(\"\"); // clear error msg if there is one\n                  addTodoToDb(); // create new Todo in db\n                }}\n              />\n            </form>\n            <div className=\"error-msg\">{errorMsg}</div>\n          </div>\n          <div className=\"todo-list-container\">\n            <div className=\"items-left-display\">\n              {allTodos && allTodos.filter(todo => todo.completed === false).length} item(s) left\n            </div>\n            {/* Display all of our Todos by looping through the `allTodos` array */}\n            {allTodos &&\n              allTodos.map(todo => {\n                return (\n                  <Todo todo={todo} key={todo._id} allTodos={allTodos} setAllTodos={setAllTodos} />\n                );\n              })}\n          </div>\n        </div>\n      ) : (\n        <div className=\"body-container instructions-container\">\n          <ol className=\"instructions\">\n            <li className=\"instructions-item\">Log in to get started!</li>\n            <li className=\"instructions-item\">Then you can add todos to your list</li>\n            <li className=\"instructions-item\">\n              To mark an item completed, click the{\" \"}\n              <img src={styledCheck} className=\"toggle-complete-btn\" />{\" \"}\n            </li>\n            <li className=\"instructions-item\">\n              To delete an item, click the <span className=\"delete-todo-btn-example\">&#10005;</span>\n            </li>\n          </ol>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default TodoList;\n","import React, { useContext, useState } from \"react\";\nimport { MagicContext, LoggedInContext, LoadingContext } from \"./Store\";\nimport { Link } from \"react-router-dom\";\nimport loadingGif from \"../images/loading.gif\";\nimport { Redirect } from \"react-router-dom\";\nimport \"../styles/login.css\";\n\nconst Login = props => {\n  const [loggedIn, setLoggedIn] = useContext(LoggedInContext);\n  const [isLoading, setIsLoading] = useContext(LoadingContext);\n  const [email, setEmail] = useState(\"\");\n  const [magic] = useContext(MagicContext);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [disableLogin, setDisableLogin] = useState(false);\n\n  const authenticateWithDb = async (DIDT) => {\n\n    /* Pass the Decentralized ID token in the Authorization header to the database */\n    let res = await fetch(`${process.env.REACT_APP_SERVER_URL}/api/user/login`, {\n      method: \"POST\",\n      headers: new Headers({\n        Authorization: \"Bearer \" + DIDT,\n      }),\n      credentials: \"include\"\n    });\n\n    let data = await res.json();\n\n    /* If the user is authorized, return an object containing the user properties (issuer, publicAddress, email) */\n    /* Else, the login was not successful and return false */\n    return data.authorized ? data.user : false;\n  };\n\n  const handleLogin = async () => {\n    try {\n      /* disable the login button to prevent users from clicking it multiple times, triggering mutliple emails */\n      setDisableLogin(true);\n\n      /* Get DID Token returned from when the email link is clicked */\n      const DIDT = await magic.auth.loginWithMagicLink({ email });\n\n      /* `user` will be the user object returned from the db, or `false` if the login failed */\n      let user = await authenticateWithDb(DIDT);\n\n      if (user) {\n        setLoggedIn(user.email);\n        return props.history.push(\"/\");\n      }\n    } catch (err) {\n      /* If the user clicked \"cancel\", allow them to click the login again */\n      setDisableLogin(false);\n\n      /* Handle error (which can occur if the user clicks `Cancel` on the modal after submitting their email) */\n      console.log(`Error logging in with Magic, ${err}`);\n    }\n  };\n\n  return (\n    <>\n      {isLoading ? ( // if fetching data, show a loading symbol\n        <img\n          className=\"loading-gif\"\n          src={loadingGif}\n          alt=\"loading...\"\n          height=\"35px\"\n          alt=\"Loading...\"\n        />\n      ) : loggedIn ? ( // If the user is logged in, show a link to the home page\n        <>\n          You're already logged in! Click <Link to=\"/\">here</Link> to view your Todos.\n        </>\n      ) : (\n        <div className=\"login-form\">\n          <h4 className=\"login-form-header\">Enter Your Email</h4>\n          <form>\n            <input\n              className=\"login-form-input\"\n              placeholder=\"name@example.com\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => {\n                setErrorMsg(\"\"); // remove error msg\n                setEmail(e.target.value);\n              }}\n            />\n            <div className=\"error-msg\">{errorMsg}</div>\n            <input\n              className=\"login-form-submit-btn\"\n              type=\"submit\"\n              value=\"Log in\"\n              disabled={disableLogin}\n              onClick={(e) => {\n                e.preventDefault();\n                if (!email) return setErrorMsg(\"Email cannot be empty.\");\n                handleLogin();\n              }}\n            />\n          </form>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Login;\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport TodoList from \"./todos/TodoList\";\nimport Login from \"./Login\";\n\nfunction App() {\n    return (\n      <>\n          <Switch>\n            <Route path=\"/\" exact component={ TodoList } />\n            <Route path=\"/login\" component={ Login } />\n          </Switch>\n      </>\n    )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Store from \"./components/Store\";\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n    <Store>\n      <App />\n    </Store> \n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}